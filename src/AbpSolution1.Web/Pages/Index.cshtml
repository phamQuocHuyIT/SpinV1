@page
@model AbpSolution1.Web.Pages.IndexModel
@using AbpSolution1.Web.Menus
@using Volo.Abp.AspNetCore.Mvc.UI.Layout
@using Microsoft.AspNetCore.Mvc.Localization
@using AbpSolution1.Localization
@using Volo.Abp.Users
@inject IPageLayout PageLayout
@inject IHtmlLocalizer<AbpSolution1Resource> L
@inject ICurrentUser CurrentUser
@{
    ViewBag.PageTitle = L["Home"];
    PageLayout.Content.MenuItemName = AbpSolution1Menus.Home;
}

@section styles {
    <abp-style src="/Pages/Index.css" />
    <abp-style src="/Pages/Spin.css" />
}
@section scripts
{
    <abp-script src="/Pages/index.js" />
}
<div class="container mt-5">
    <div class="row">
        <!-- 🎡 Vòng quay chiếm 4/5 -->
        <div class="col-lg-9 col-md-8 col-12 d-flex justify-content-center align-items-center">
            <section class="main">
                <h3 id="wheelTitle" class="wheel-title text-bord text-center mb-3"></h3>
                <span class="span-now">
                    <ul class="wheel"></ul>
                </span>
                <button class="btn btn-danger btn--wheel mt-3">Quay thưởng</button>
            </section>
        </div>

        <!-- 👤 Tìm khách hàng chiếm 1/5 -->
        <div class="col-lg-3 col-md-4 col-12">
            <section class="customer-search p-3 border rounded">
                <h3 class="mb-3 text-center">🔍 Tìm khách hàng</h3>
                <div class="position-relative">
                    <input type="text" id="searchCustomer" class="form-control mb-2" placeholder="Nhập tên khách hàng..." autocomplete="off">
                    <ul id="customerSuggestions" class="list-group shadow-sm"></ul>
                    <small class="text-muted">Gõ ít nhất 2 ký tự để tìm kiếm.</small>
                    <div id="selectedCustomerInfo" class="mt-2 p-2 border rounded d-none">
                        <p><b>Họ tên:</b> <span id="customerName"></span></p>
                        <p><b>Mã KH:</b> <span id="customerCode"></span></p>
                        <p><b>Ngày sinh:</b> <span id="customerDOB"></span></p>
                        <p><b>Địa chỉ:</b> <span id="customerAddress"></span></p>
                        <p><b>SĐT:</b> <span id="customerPhone"></span></p>
                        <p><b>Giới tính:</b> <span id="customerGender"></span></p>
                        <p><b>Tổng mua:</b> <span id="customerTotalPurchase"></span></p>
                        <button type="button" id="clearCustomer" class="btn btn-sm btn-danger float-end">X</button>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<!-- Canvas pháo hoa -->
<canvas id="fireworksCanvas" ></canvas>

<!-- Thư viện SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
